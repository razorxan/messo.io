<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="MessoClient.js"></script>
    <script>

        const messo = new MessoClient('ws://localhost:3030/?token=ciao&ciao=nno')

        messo.on('connection', async () => {
            console.log("connected");
            messo.send('ciccio', { test: 'ciao' });
            messo.on('prova', (request) => {
                request.respond('response to prova request');
            });
            messo.request('request_test', 'cristo', 'santo').then(response => {
                console.log(response);
            });
            messo.send('test_message', 'questo Ã¨ un semplice messaggio dal client');
            messo.send('test_message', {
                'to': 1
            });
            messo.on('test_messageru', data => {
                console.log('test_messageur', data);
            })
        });

    </script>
</body>

</html>